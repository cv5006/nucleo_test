/*
 * bno055_regmap.h
 *
 *  Created on: Apr 19, 2022
 *      Author: SHW
 */

#ifndef INC_BNO055_REGMAP_H_
#define INC_BNO055_REGMAP_H_

/* Device Specification */

/* Device Address */
#define BNO055_DEV_ADDR_PREFIX    0b0101000
#define BNO055_DEV_ADDR_MAX_HW_ID 0b01

/* Register Address */
#define BNO055_PAGE_REG   0x07U

#define BNO055_OPR_MODE_REG   0x3DU

#define BNO055_UNIT_SEL_REG   0x3BU

#define BNO055_AXIS_CONF_REG  0x41U
#define BNO055_AXIS_SIGN_REG  0x42U

#define BNO055_ACC_DATA_X_REG 0x08U
#define BNO055_ACC_DATA_Y_REG 0x0AU
#define BNO055_ACC_DATA_Z_REG 0x0CU
#define BNO055_MAG_DATA_X_REG 0x0EU
#define BNO055_MAG_DATA_Y_REG 0x10U
#define BNO055_MAG_DATA_Z_REG 0x12U
#define BNO055_GYR_DATA_X_REG 0x14U
#define BNO055_GYR_DATA_Y_REG 0x16U
#define BNO055_GYR_DATA_Z_REG 0x18U

#define BNO055_ACC_CONFIG_REG 0x08U
#define BNO055_MAG_CONFIG_REG 0x09U
#define BNO055_GYR_CONFIG_REG 0x0AU

/* Data Size */
#define BNO055_PAGE_SIZE      1U

#define BNO055_OPR_MODE_SIZE  1U

#define BNO055_UNIT_SEL_SIZE  1U

#define BNO055_AXIS_CONF_SIZE 1U
#define BNO055_AXIS_SIGN_SIZE 1U

#define BNO055_ACC_DATA_SIZE  6U
#define BNO055_MAG_DATA_SIZE  6U
#define BNO055_GYR_DATA_SIZE  6U
#define BNO055_ALL_DATA_SIZE  18U

#define BNO055_ACC_CONFIG_SIZE  1U
#define BNO055_MAG_CONFIG_SIZE  1U
#define BNO055_GYR_CONFIG_SIZE  2U


/* Register Data */
// Page Selection
#define BNO055_PAGE_0   0x00U
#define BNO055_PAGE_1   0x01U

// Operation Mode
#define BNO055_OPR_MODE_CONFIGMODE 0b0000U
#define BNO055_OPR_MODE_ACCGYR     0b0101U
#define BNO055_OPR_MODE_ACCMAGGYR  0b0111U

// Unit Selection
#define BNO055_UNIT_SEL_ACC_MG     0x000U // mg
#define BNO055_UNIT_SEL_ACC_MPSS   0x001U // m/s^2
#define BNO055_UNIT_SEL_GYR_DPS    0x000U // deg/sec
#define BNO055_UNIT_SEL_GYR_RPS    0x010U // rad/sec

// Axis Configuration
#define BNO055_AXIS_CONF_X_AXIS 0b00
#define BNO055_AXIS_CONF_Y_AXIS 0b01
#define BNO055_AXIS_CONF_Z_AXIS 0b10
#define BNO055_AXIS_CONF_X_TO(axis) (axis)
#define BNO055_AXIS_CONF_Y_TO(axis) (axis << 2)
#define BNO055_AXIS_CONF_Z_TO(axis) (axis << 4)

// Axis Sign
#define BNO055_AXIS_SIGN_P  0b0U
#define BNO055_AXIS_SIGN_N  0b1U
#define BNO055_AXIS_SIGN_X_TO(sign) (sign)
#define BNO055_AXIS_SIGN_Y_TO(sign) (sign << 1)
#define BNO055_AXIS_SIGN_Z_TO(sign) (sign << 2)

// ACC Configuration
#define BNO055_ACC_CONFIG_RANGE_2G           0b00U
#define BNO055_ACC_CONFIG_RANGE_4G           0b01U
#define BNO055_ACC_CONFIG_RANGE_8G           0b10U
#define BNO055_ACC_CONFIG_RANGE_16G          0b11U

#define BNO055_ACC_CONFIG_BAND_7HZ81      0b00000U
#define BNO055_ACC_CONFIG_BAND_15HZ63     0b00100U
#define BNO055_ACC_CONFIG_BAND_31HZ25     0b01000U
#define BNO055_ACC_CONFIG_BAND_62HZ5      0b01100U
#define BNO055_ACC_CONFIG_BAND_125HZ      0b10000U
#define BNO055_ACC_CONFIG_BAND_250HZ      0b10100U
#define BNO055_ACC_CONFIG_BAND_500HZ      0b11000U
#define BNO055_ACC_CONFIG_BAND_1000HZ     0b11100U

#define BNO055_ACC_CONFIG_MODE_NORMAL  0b00000000U
#define BNO055_ACC_CONFIG_MODE_SUSPEND 0b00100000U
#define BNO055_ACC_CONFIG_MODE_LOWPWR1 0b01000000U
#define BNO055_ACC_CONFIG_MODE_STADNBY 0b01100000U
#define BNO055_ACC_CONFIG_MODE_LOWPWR2 0b10100000U
#define BNO055_ACC_CONFIG_MODE_DEEPSUS 0b10100000U

// MAG Configuration
#define BNO055_MAG_CONFIG_RATE_2HZ              0b000U
#define BNO055_MAG_CONFIG_RATE_6HZ              0b001U
#define BNO055_MAG_CONFIG_RATE_8HZ              0b010U
#define BNO055_MAG_CONFIG_RATE_10HZ             0b011U
#define BNO055_MAG_CONFIG_RATE_15HZ             0b100U
#define BNO055_MAG_CONFIG_RATE_20HZ             0b101U
#define BNO055_MAG_CONFIG_RATE_25HZ             0b110U
#define BNO055_MAG_CONFIG_RATE_30HZ             0b111U
#define BNO055_MAG_CONFIG_RATE_30HZ             0b111U

#define BNO055_MAG_CONFIG_OPERATION_LOWPWR    0b00000U
#define BNO055_MAG_CONFIG_OPERATION_REGUALR   0b01000U
#define BNO055_MAG_CONFIG_OPERATION_ENHREG    0b10000U
#define BNO055_MAG_CONFIG_OPERATION_HIGHACC   0b11000U

#define BNO055_MAG_CONFIG_MODE_NORMAL       0b0000000U
#define BNO055_MAG_CONFIG_MODE_SLEEP        0b0100000U
#define BNO055_MAG_CONFIG_MODE_SUSPEND      0b1000000U
#define BNO055_MAG_CONFIG_MODE_FORCE        0b1100000U

// GYR Configuration
#define BNO055_GYR_CONFIG_RANGE_2000DPS        0b000U
#define BNO055_GYR_CONFIG_RANGE_1000DPS        0b001U
#define BNO055_GYR_CONFIG_RANGE_500DPS         0b010U
#define BNO055_GYR_CONFIG_RANGE_250DPS         0b011U
#define BNO055_GYR_CONFIG_RANGE_125DPS         0b100U

#define BNO055_GYR_CONFIG_BAND_523HZ        0b000000U
#define BNO055_GYR_CONFIG_BAND_230HZ        0b001000U
#define BNO055_GYR_CONFIG_BAND_116HZ        0b010000U
#define BNO055_GYR_CONFIG_BAND_47HZ         0b011000U
#define BNO055_GYR_CONFIG_BAND_23HZ         0b100000U
#define BNO055_GYR_CONFIG_BAND_12HZ         0b101000U
#define BNO055_GYR_CONFIG_BAND_64HZ         0b110000U
#define BNO055_GYR_CONFIG_BAND_32HZ         0b111000U

#define BNO055_GYR_CONFIG_MODE_NORMAL  0b00000000000U
#define BNO055_GYR_CONFIG_MODE_FASTUP  0b00100000000U
#define BNO055_GYR_CONFIG_MODE_DEEPSUS 0b01000000000U
#define BNO055_GYR_CONFIG_MODE_SUSPEND 0b01100000000U
#define BNO055_GYR_CONFIG_MODE_ADVSAVE 0b10000000000U

#endif /* INC_BNO055_REGMAP_H_ */
